from pyhub.llm import OpenAILLM

def generate_trait(q1, q2, q3):
    llm = OpenAILLM(model = "gpt-4o-mini")

    prompt = f"""
        너는 시적이고 감성적인 마법사야.  
        사람에게 단 하나의 특성을 부여하지.  

        지금부터 어떤 사람이 세 가지 질문에 대답할 거야.

        [1] 새벽 2시에 가장 친한 친구에게 전화가 왔습니다. 친구는 무슨 말을 할까요? : {q1}  
        [2] 자고 일어났더니 어제 꿈을 꾼 것 같은데 기억이 잘 나지 않습니다. 기억을 더듬어보니 조금 생각날 것 같습니다. 무슨 꿈인가요? : {q2}  
        [3] 길을 걷다 보니 바닥에 돈이 떨어져 있습니다. 얼마가 떨어져 있었나요?  : {q3}
        이 세 가지 대답을 바탕으로,  
        그 사람만의 **형용사처럼 느껴지는 시적인 특성 하나만** 지어줘.  
        그 특성은 평범해서는 안 돼.  
        예를 들어, “조용한”, “용감한” 같은 단어는 안 돼.  
        대신 “파도를 기다릴 줄 아는”, “한 번쯤은 무지개를 쫓아가봤을 것 같은”  
        같이 말 자체에 상상이 담기고, 이야기가 흐르도록 만들어.

        꼭 지켜야 할 규칙은 다음과 같아:

        1. **형용사처럼 느껴지는 말 한 줄만** 말해.  
        2. **쉼표 없이 하나의 특성**만 말해.  
        3. 문장은 **너무 짧지도, 너무 길지도 않게**, **최소 10자 이상, 최대 20자 이하**로.  
        4. **한글만 사용해. 영어는 금지.**  
        5. **세 가지 답변이 서로 얽힌 듯한 의미가 담겨야 해.**  
        6. **너무 뻔하게 연결하지 마. 은유적으로, 상상력을 자극하게.**  
        7. “별빛이~” 같은 틀에 박힌 패턴을 반복하지 마.  
        8. 절대로 설명하지 마. **형용사 느낌의 말만 한 줄 출력해.**

        이제 대답은 오직 그 한 줄이야.

    """


    reply = llm.ask(prompt)
    return reply.text.strip()